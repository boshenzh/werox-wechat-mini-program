<view class="page">
  <view class="card profile-card">
    <view class="avatar-section">
      <view class="avatar-wrap">
        <image
          class="avatar"
          src="{{profile.avatarFileId}}"
          mode="aspectFill"
          wx:if="{{profile.avatarFileId}}"
        />
        <view class="avatar-placeholder" wx:else>
          <text class="avatar-text">上传头像</text>
        </view>
      </view>
      <view class="avatar-actions">
        <text class="section-title">个人名片</text>
        <text class="subtext">头像与资料仅自己可编辑</text>
        <button class="primary-btn" bindtap="uploadAvatar">更换头像</button>
      </view>
    </view>

    <view class="form">
      <view class="form-row">
        <text class="form-label">昵称</text>
        <input class="form-input" value="{{profile.nickname}}" placeholder="填写你的昵称" data-field="nickname" bindinput="handleInput" />
      </view>
      <view class="form-row">
        <text class="form-label">标签</text>
        <input class="form-input" value="{{tagText}}" placeholder="力量型、耐力型、战术型" data-field="tags" bindinput="handleInput" />
        <text class="subtext">多个标签请用逗号分隔</text>
      </view>
      <view class="form-row">
        <text class="form-label">微信号</text>
        <input class="form-input" value="{{profile.wechatId}}" placeholder="手动填写" data-field="wechatId" bindinput="handleInput" />
        <text class="subtext">小程序无法直接获取微信号</text>
      </view>
      <view class="form-row">
        <text class="form-label">年龄</text>
        <input class="form-input" type="number" value="{{profile.age}}" placeholder="例如 27" data-field="age" bindinput="handleInput" />
      </view>
      <view class="form-row">
        <text class="form-label">心率</text>
        <input class="form-input" type="number" value="{{profile.heartRate}}" placeholder="例如 155" data-field="heartRate" bindinput="handleInput" />
      </view>
      <view class="form-row">
        <text class="form-label">个人简介</text>
        <textarea class="form-textarea" value="{{profile.bio}}" placeholder="写下你的训练状态与目标" data-field="bio" bindinput="handleInput" />
      </view>
      <button class="primary-btn save-btn" bindtap="saveProfile">保存主页</button>
    </view>
  </view>
</view>
